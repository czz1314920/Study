###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.1.10194/W32 for 8051         02/Nov/2018  00:11:30 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\Source\SampleApp.c                      #
#    Command line       =  -f D:\github_storehouse\Zigebee_communication\Stud #
#                          y\CoordinatorEB\ZStack_CC2530\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8w #
#                          Coord.cfg (-DCPU32MHZ -DROOT=__near_func           #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f D:\github_storehouse\Zigebee_communication\Stud #
#                          y\CoordinatorEB\ZStack_CC2530\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8w #
#                          Config.cfg (-DZIGBEEPRO -DSECURE=0                 #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 D:\github_storehouse\Zigebe #
#                          e_communication\Study\CoordinatorEB\ZStack_CC2530\ #
#                          Projects\zstack\Samples\SampleApp\Source\SampleApp #
#                          .c -D ZTOOL_P1 -D xMT_TASK -D xMT_SYS_FUNC -D      #
#                          xMT_ZDO_FUNC -D xLCD_SUPPORTED=DEBUG -lC           #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\CoordinatorEB\List\ -lA        #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\CoordinatorEB\List\            #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\CoordinatorEB\Obj\ -e          #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I D:\github_storehouse\Zigebee_communication\Stud #
#                          y\CoordinatorEB\ZStack_CC2530\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\ -I                         #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\Source\ -I                  #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\ZMain\TI2530DB\ -I    #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\hal\ #
#                          include\ -I D:\github_storehouse\Zigebee_communica #
#                          tion\Study\CoordinatorEB\ZStack_CC2530\Projects\zs #
#                          tack\Samples\SampleApp\CC2530DB\..\..\..\..\..\Com #
#                          ponents\hal\target\CC2530EB\ -I                    #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\mac\ #
#                          include\ -I D:\github_storehouse\Zigebee_communica #
#                          tion\Study\CoordinatorEB\ZStack_CC2530\Projects\zs #
#                          tack\Samples\SampleApp\CC2530DB\..\..\..\..\..\Com #
#                          ponents\mac\high_level\ -I                         #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\mac\ #
#                          low_level\srf04\ -I D:\github_storehouse\Zigebee_c #
#                          ommunication\Study\CoordinatorEB\ZStack_CC2530\Pro #
#                          jects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. #
#                          .\..\Components\mac\low_level\srf04\single_chip\   #
#                          -I D:\github_storehouse\Zigebee_communication\Stud #
#                          y\CoordinatorEB\ZStack_CC2530\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\Components\m #
#                          t\ -I D:\github_storehouse\Zigebee_communication\S #
#                          tudy\CoordinatorEB\ZStack_CC2530\Projects\zstack\S #
#                          amples\SampleApp\CC2530DB\..\..\..\..\..\Component #
#                          s\osal\include\ -I D:\github_storehouse\Zigebee_co #
#                          mmunication\Study\CoordinatorEB\ZStack_CC2530\Proj #
#                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\.. #
#                          \..\Components\services\saddr\ -I                  #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\serv #
#                          ices\sdata\ -I D:\github_storehouse\Zigebee_commun #
#                          ication\Study\CoordinatorEB\ZStack_CC2530\Projects #
#                          \zstack\Samples\SampleApp\CC2530DB\..\..\..\..\..\ #
#                          Components\stack\af\ -I D:\github_storehouse\Zigeb #
#                          ee_communication\Study\CoordinatorEB\ZStack_CC2530 #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\nwk\ -I                  #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\stac #
#                          k\sapi\ -I D:\github_storehouse\Zigebee_communicat #
#                          ion\Study\CoordinatorEB\ZStack_CC2530\Projects\zst #
#                          ack\Samples\SampleApp\CC2530DB\..\..\..\..\..\Comp #
#                          onents\stack\sec\ -I D:\github_storehouse\Zigebee_ #
#                          communication\Study\CoordinatorEB\ZStack_CC2530\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\Components\stack\sys\ -I                     #
#                          D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\Components\stac #
#                          k\zdo\ -I D:\github_storehouse\Zigebee_communicati #
#                          on\Study\CoordinatorEB\ZStack_CC2530\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\zmac\ -I D:\github_storehouse\Zigebee_commun #
#                          ication\Study\CoordinatorEB\ZStack_CC2530\Projects #
#                          \zstack\Samples\SampleApp\CC2530DB\..\..\..\..\..\ #
#                          Components\zmac\f8w\ -Ohz --require_prototypes     #
#    List file          =  D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\CoordinatorEB\List\SampleApp.l #
#                          st                                                 #
#    Object file        =  D:\github_storehouse\Zigebee_communication\Study\C #
#                          oordinatorEB\ZStack_CC2530\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\CoordinatorEB\Obj\SampleApp.r5 #
#                          1                                                  #
#                                                                             #
#                                                                             #
###############################################################################

D:\github_storehouse\Zigebee_communication\Study\CoordinatorEB\ZStack_CC2530\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          #include "OSAL.h"

  /******************************************************************************
                                                                                ^
"D:\github_storehouse\Zigebee_communication\Study\CoordinatorEB\ZStack_CC2530\Components\osal\include\OSAL.h",1  Warning[Pa050]: 
          non-native end of line sequence detected (this diagnostic is only
          issued once)
      2          #include "ZGlobals.h"
      3          #include "AF.h"
      4          #include "aps_groups.h"
      5          #include "ZDApp.h"
      6          
      7          #include "SampleApp.h"
      8          #include "SampleAppHw.h"
      9          
     10          #include "OnBoard.h"

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfe
   \   unsigned char volatile __sfr P1DIR
   \                     P1DIR:
   \   000000                DS 1
     11          
     12          /* HAL */
     13          #include "hal_lcd.h"
     14          #include "hal_led.h"
     15          #include "hal_key.h"
     16          #include "MT_UART.h"
     17          #include "MT.h"
     18          
     19          /*********************************************************************
     20           * MACROS
     21           */
     22          
     23          /*********************************************************************
     24           * CONSTANTS
     25           */
     26          
     27          /*********************************************************************
     28           * TYPEDEFS
     29           */
     30          
     31          /*********************************************************************
     32           * GLOBAL VARIABLES
     33           */
     34          
     35          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     36          const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
     37          {
     38            SAMPLEAPP_PERIODIC_CLUSTERID,
     39            SAMPLEAPP_FLASH_CLUSTERID
     40          };
     41          

   \                                 In  segment XDATA_ROM_C, align 1
     42          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   14           DB 20
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   02           DB 2
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   02           DB 2
   \   00000A   ....         DW SampleApp_ClusterList
     43          {
     44            SAMPLEAPP_ENDPOINT,              //  int Endpoint;
     45            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
     46            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     47            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     48            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
     49            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     50            (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
     51            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     52            (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
     53          };
     54          
     55          // This is the Endpoint/Interface description.  It is defined here, but
     56          // filled-in in SampleApp_Init().  Another way to go would be to fill
     57          // in the structure here and make it a "const" (in code space).  The
     58          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     59          endPointDesc_t SampleApp_epDesc;
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
     60          
     61          /*********************************************************************
     62           * EXTERNAL VARIABLES
     63           */
     64          
     65          /*********************************************************************
     66           * EXTERNAL FUNCTIONS
     67           */
     68          
     69          /*********************************************************************
     70           * LOCAL VARIABLES
     71           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     72          uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     73                                    // This variable will be received when
     74                                    // SampleApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     75          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     76          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     77          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     78          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     79          afAddrType_t SampleApp_Periodic_DstAddr;
   \                     SampleApp_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     80          afAddrType_t SampleApp_Flash_DstAddr;
   \                     SampleApp_Flash_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
     81          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     82          aps_Group_t SampleApp_Group;
   \                     SampleApp_Group:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z
     83          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     84          uint8 *SampleAppPeriodicCounter = 0;
   \                     SampleAppPeriodicCounter:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
     85          uint8  SampleAppCounter=1;
   \                     SampleAppCounter:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for SampleAppCounter>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     86          uint8 SampleAppFlashCounter = 0;
   \                     SampleAppFlashCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     87          
     88          /*********************************************************************
     89           * LOCAL FUNCTIONS
     90           */
     91          void SampleApp_HandleKeys( uint8 shift, uint8 keys );
     92          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
     93          void SampleApp_SendPeriodicMessage( void );
     94          void SampleApp_SendFlashMessage( uint16 flashTime );
     95          void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg);
     96          
     97          /*********************************************************************
     98           * NETWORK LAYER CALLBACKS
     99           */
    100          
    101          /*********************************************************************
    102           * PUBLIC FUNCTIONS
    103           */
    104          
    105          /*********************************************************************
    106           * @fn      SampleApp_Init
    107           *
    108           * @brief   Initialization function for the Generic App Task.
    109           *          This is called during initialization and should contain
    110           *          any application specific initialization (ie. hardware
    111           *          initialization/setup, table initialization, power up
    112           *          notificaiton ... ).
    113           *
    114           * @param   task_id - the ID assigned by OSAL.  This ID should be
    115           *                    used to send messages and set timers.
    116           *
    117           * @return  none
    118           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    119          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    120          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    121            SampleApp_TaskID = task_id;
   \   000007   90....       MOV     DPTR,#SampleApp_TaskID
   \   00000A   F0           MOVX    @DPTR,A
    122            SampleApp_NwkState = DEV_INIT;
   \   00000B   90....       MOV     DPTR,#SampleApp_NwkState
   \   00000E   7401         MOV     A,#0x1
   \   000010   F0           MOVX    @DPTR,A
    123            SampleApp_TransID = 0;
   \   000011   90....       MOV     DPTR,#SampleApp_TransID
   \   000014   E4           CLR     A
   \   000015   F0           MOVX    @DPTR,A
    124          
    125            /* Initialize the Serial port */
    126            MT_UartInit();
   \   000016                ; Setup parameters for call to function MT_UartInit
   \   000016   12....       LCALL   ??MT_UartInit?relay
    127          
    128            /* Register taskID - Do this after UartInit() because it will reset the taskID */
    129            MT_UartRegisterTaskID(task_id);
   \   000019                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   000019   EE           MOV     A,R6
   \   00001A   F9           MOV     R1,A
   \   00001B   12....       LCALL   ??MT_UartRegisterTaskID?relay
    130            HalUARTWrite(0,"Coordinator\n",12);
   \   00001E                ; Setup parameters for call to function HalUARTWrite
   \   00001E   7C0C         MOV     R4,#0xc
   \   000020   7D00         MOV     R5,#0x0
   \   000022   7A..         MOV     R2,#`?<Constant "Coordinator\\n">` & 0xff
   \   000024   7B..         MOV     R3,#(`?<Constant "Coordinator\\n">` >> 8) & 0xff
   \   000026   7900         MOV     R1,#0x0
   \   000028   12....       LCALL   ??HalUARTWrite?relay
    131          
    132            // Device hardware initialization can be added here or in main() (Zmain.c).
    133            // If the hardware is application specific - add it here.
    134            // If the hardware is other parts of the device add it in main().
    135          
    136           #if defined ( BUILD_ALL_DEVICES )
    137            // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
    138            // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
    139            // together - if they are - we will start up a coordinator. Otherwise,
    140            // the device will start as a router.
    141            if ( readCoordinatorJumper() )
    142              zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
    143            else
    144              zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
    145          #endif // BUILD_ALL_DEVICES
    146          
    147          #if defined ( HOLD_AUTO_START )
    148            // HOLD_AUTO_START is a compile option that will surpress ZDApp
    149            //  from starting the device and wait for the application to
    150            //  start the device.
    151            ZDOInitDevice(0);
    152          #endif
    153          
    154            // Setup for the periodic message's destination address
    155            // Broadcast to everyone
    156            SampleApp_Periodic_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002B   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr + 8
   \   00002E   7402         MOV     A,#0x2
   \   000030   F0           MOVX    @DPTR,A
    157            SampleApp_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000031   A3           INC     DPTR
   \   000032   7414         MOV     A,#0x14
   \   000034   F0           MOVX    @DPTR,A
    158            SampleApp_Periodic_DstAddr.addr.shortAddr = 0x0039;
   \   000035   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr
   \   000038   7439         MOV     A,#0x39
   \   00003A   12....       LCALL   ??Subroutine16_0 & 0xFFFF
    159          
    160            // Setup for the flash command's destination address - Group 1
    161            SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
   \                     ??CrossCallReturnLabel_26:
   \   00003D   90....       MOV     DPTR,#SampleApp_Flash_DstAddr + 8
   \   000040   04           INC     A
   \   000041   F0           MOVX    @DPTR,A
    162            SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000042   A3           INC     DPTR
   \   000043   7414         MOV     A,#0x14
   \   000045   F0           MOVX    @DPTR,A
    163            SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
   \   000046   90....       MOV     DPTR,#SampleApp_Flash_DstAddr
   \   000049   12....       LCALL   ?Subroutine13 & 0xFFFF
    164          
    165            // Fill out the endpoint description.
    166            SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
   \                     ??CrossCallReturnLabel_29:
   \   00004C   90....       MOV     DPTR,#SampleApp_epDesc
   \   00004F   7414         MOV     A,#0x14
   \   000051   F0           MOVX    @DPTR,A
    167            SampleApp_epDesc.task_id = &SampleApp_TaskID;
   \   000052   A3           INC     DPTR
   \   000053   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   000055   F0           MOVX    @DPTR,A
   \   000056   A3           INC     DPTR
   \   000057   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   000059   F0           MOVX    @DPTR,A
    168            SampleApp_epDesc.simpleDesc
    169                      = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
   \   00005A   A3           INC     DPTR
   \   00005B   74..         MOV     A,#SampleApp_SimpleDesc & 0xff
   \   00005D   F0           MOVX    @DPTR,A
   \   00005E   A3           INC     DPTR
   \   00005F   74..         MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
   \   000061   12....       LCALL   ??Subroutine16_0 & 0xFFFF
    170            SampleApp_epDesc.latencyReq = noLatencyReqs;
    171          
    172            // Register the endpoint description with the AF
    173            afRegister( &SampleApp_epDesc );
   \                     ??CrossCallReturnLabel_25:
   \   000064                ; Setup parameters for call to function afRegister
   \   000064   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   000066   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   000068   12....       LCALL   ??afRegister?relay
    174          
    175            // Register for all key events - This app will handle all key events
    176            RegisterForKeys( SampleApp_TaskID );
   \   00006B                ; Setup parameters for call to function RegisterForKeys
   \   00006B   90....       MOV     DPTR,#SampleApp_TaskID
   \   00006E   E0           MOVX    A,@DPTR
   \   00006F   F9           MOV     R1,A
   \   000070   12....       LCALL   ??RegisterForKeys?relay
    177          
    178            // By default, all devices start out in Group 1
    179            SampleApp_Group.ID = 0x0001;
   \   000073   90....       MOV     DPTR,#SampleApp_Group
   \   000076   12....       LCALL   ?Subroutine13 & 0xFFFF
    180            osal_memcpy( SampleApp_Group.name, "Group 1", 7  );
   \                     ??CrossCallReturnLabel_30:
   \   000079                ; Setup parameters for call to function osal_memcpy
   \   000079   75....       MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
   \   00007C   75....       MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   00007F   F5..         MOV     ?V0 + 2,A
   \   000081   78..         MOV     R0,#?V0 + 0
   \   000083   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000086   7C07         MOV     R4,#0x7
   \   000088   7D00         MOV     R5,#0x0
   \   00008A   7A..         MOV     R2,#(SampleApp_Group + 2) & 0xff
   \   00008C   7B..         MOV     R3,#((SampleApp_Group + 2) >> 8) & 0xff
   \   00008E   12....       LCALL   ??osal_memcpy?relay
   \   000091   7403         MOV     A,#0x3
   \   000093   12....       LCALL   ?DEALLOC_XSTACK8
    181            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
   \   000096                ; Setup parameters for call to function aps_AddGroup
   \   000096   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   000098   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   00009A   7914         MOV     R1,#0x14
   \   00009C   12....       LCALL   ??aps_AddGroup?relay
    182          
    183          #if defined ( LCD_SUPPORTED )
    184            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
    185          #endif
    186          }
   \   00009F   7F03         MOV     R7,#0x3
   \   0000A1   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   7401         MOV     A,#0x1
   \   000002                REQUIRE ??Subroutine16_0
   \   000002                ; // Fall through to label ??Subroutine16_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine16_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   E4           CLR     A
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET
    187          
    188          /*********************************************************************
    189           * @fn      SampleApp_ProcessEvent
    190           *
    191           * @brief   Generic Application Task event processor.  This function
    192           *          is called to process all events for the task.  Events
    193           *          include timers, messages and any other user defined events.
    194           *
    195           * @param   task_id  - The OSAL assigned task ID.
    196           * @param   events - events to process.  This is a bit map and can
    197           *                   contain more than one event.
    198           *
    199           * @return  none
    200           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    201          uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     SampleApp_ProcessEvent:
    202          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    203            afIncomingMSGPacket_t *MSGpkt;
    204            (void)task_id;  // Intentionally unreferenced parameter
    205          
    206            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   606E         JZ      ??SampleApp_ProcessEvent_0
    207            {
    208              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00000D                ; Setup parameters for call to function osal_msg_receive
   \   00000D   800E         SJMP    ??SampleApp_ProcessEvent_1
    209              while ( MSGpkt )
    210              {
    211                switch ( MSGpkt->hdr.event )
    212                {
    213                  // Received when a key is pressed
    214                  case KEY_CHANGE:
    215                    SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    216                    break;
    217          
    218                  // Received when a messages is received (OTA) for this endpoint
    219                  case AF_INCOMING_MSG_CMD:
    220                    SampleApp_MessageMSGCB( MSGpkt );
    221                    break;
    222          
    223                  // Received whenever the device changes state in the network
    224                  case ZDO_STATE_CHANGE:
    225                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
    226                    if ( (SampleApp_NwkState == DEV_ZB_COORD))
    227                    {
    228                      // Start sending the periodic message in a regular interval.
    229                      HalLedSet (HAL_LED_1, HAL_LED_MODE_ON);
    230                      HalLedSet (HAL_LED_2, HAL_LED_MODE_ON);
    231                       //HalLedBlink(HAL_LED_ALL,3,50,1000);
    232                       //osal_start_timerEx(SampleApp_TaskID,Definition_Event_1,3000);
    233                      //osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_SEND_PERIODIC_MSG_EVT,SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
    234                    }
    235                    else
    236                    {
    237                      // Device is no longer in the network
    238                    }
    239                    break;
    240          
    241                    case CMD_SERIAL_MSG:
    242                       SampleApp_SerialCMD((mtOSALSerialData_t *)MSGpkt);
   \                     ??SampleApp_ProcessEvent_2:
   \   00000F                ; Setup parameters for call to function SampleApp_SerialCMD
   \   00000F   AA..         MOV     R2,?V0 + 0
   \   000011   AB..         MOV     R3,?V0 + 1
   \   000013   12....       LCALL   ??SampleApp_SerialCMD?relay
    243                       break;
    244          
    245                  default:
    246                    break;
    247                }
    248          
    249                // Release the memory
    250                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??SampleApp_ProcessEvent_3:
   \   000016                ; Setup parameters for call to function osal_msg_deallocate
   \   000016   AA..         MOV     R2,?V0 + 0
   \   000018   AB..         MOV     R3,?V0 + 1
   \   00001A   12....       LCALL   ??osal_msg_deallocate?relay
    251          
    252                // Next - if one is available
    253                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00001D                ; Setup parameters for call to function osal_msg_receive
   \                     ??SampleApp_ProcessEvent_1:
   \   00001D   90....       MOV     DPTR,#SampleApp_TaskID
   \   000020   E0           MOVX    A,@DPTR
   \   000021   F9           MOV     R1,A
   \   000022   12....       LCALL   ??osal_msg_receive?relay
   \   000025   8A..         MOV     ?V0 + 0,R2
   \   000027   8B..         MOV     ?V0 + 1,R3
   \   000029   E5..         MOV     A,?V0 + 0
   \   00002B   45..         ORL     A,?V0 + 1
   \   00002D   6044         JZ      ??SampleApp_ProcessEvent_4
   \   00002F   85..82       MOV     DPL,?V0 + 0
   \   000032   85..83       MOV     DPH,?V0 + 1
   \   000035   E0           MOVX    A,@DPTR
   \   000036   14           DEC     A
   \   000037   60D6         JZ      ??SampleApp_ProcessEvent_2
   \   000039   24E7         ADD     A,#-0x19
   \   00003B   601E         JZ      ??SampleApp_ProcessEvent_5
   \   00003D   245A         ADD     A,#0x5a
   \   00003F   6006         JZ      ??SampleApp_ProcessEvent_6
   \   000041   24EF         ADD     A,#-0x11
   \   000043   601F         JZ      ??SampleApp_ProcessEvent_7
   \   000045   80CF         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_6:
   \   000047                ; Setup parameters for call to function SampleApp_HandleKeys
   \   000047   A3           INC     DPTR
   \   000048   A3           INC     DPTR
   \   000049   A3           INC     DPTR
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   FA           MOV     R2,A
   \   00004C   85..82       MOV     DPL,?V0 + 0
   \   00004F   85..83       MOV     DPH,?V0 + 1
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   E0           MOVX    A,@DPTR
   \   000055   F9           MOV     R1,A
   \   000056   12....       LCALL   ??SampleApp_HandleKeys?relay
   \   000059   80BB         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_5:
   \   00005B                ; Setup parameters for call to function SampleApp_MessageMSGCB
   \   00005B   AA..         MOV     R2,?V0 + 0
   \   00005D   AB..         MOV     R3,?V0 + 1
   \   00005F   12....       LCALL   ??SampleApp_MessageMSGCB?relay
   \   000062   80B2         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_7:
   \   000064   A3           INC     DPTR
   \   000065   E0           MOVX    A,@DPTR
   \   000066   90....       MOV     DPTR,#SampleApp_NwkState
   \   000069   F0           MOVX    @DPTR,A
   \   00006A   6409         XRL     A,#0x9
   \   00006C   70A8         JNZ     ??SampleApp_ProcessEvent_3
   \   00006E                ; Setup parameters for call to function HalLedSet
   \   00006E   12....       LCALL   ?Subroutine4 & 0xFFFF
    254              }
   \                     ??CrossCallReturnLabel_5:
   \   000071   80A3         SJMP    ??SampleApp_ProcessEvent_3
    255          
    256              // return unprocessed events
    257              return (events ^ SYS_EVENT_MSG);
   \                     ??SampleApp_ProcessEvent_4:
   \   000073   EE           MOV     A,R6
   \   000074   FA           MOV     R2,A
   \   000075   EF           MOV     A,R7
   \   000076   6480         XRL     A,#0x80
   \                     ??SampleApp_ProcessEvent_8:
   \   000078   FB           MOV     R3,A
   \   000079   8050         SJMP    ??SampleApp_ProcessEvent_9
    258            }
    259          
    260            // Send a message out - This event is generated by a timer
    261            //  (setup in SampleApp_Init()).
    262            if ( events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT )
   \                     ??SampleApp_ProcessEvent_0:
   \   00007B   EE           MOV     A,R6
   \   00007C   A2E0         MOV     C,0xE0 /* A   */.0
   \   00007E   500A         JNC     ??SampleApp_ProcessEvent_10
    263            {
    264              // Send the periodic message
    265              SampleApp_SendPeriodicMessage();
   \   000080                ; Setup parameters for call to function SampleApp_SendPeriodicMessage
   \   000080   12....       LCALL   ??SampleApp_SendPeriodicMessage?relay
    266          
    267              // Setup to send message again in normal period (+ a little jitter)
    268              //osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    269                 // (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x00FF)) );
    270          
    271              // return unprocessed events
    272              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \   000083   EE           MOV     A,R6
   \   000084   6401         XRL     A,#0x1
   \                     ??SampleApp_ProcessEvent_11:
   \   000086   FA           MOV     R2,A
   \   000087   EF           MOV     A,R7
   \   000088   80EE         SJMP    ??SampleApp_ProcessEvent_8
    273            }
    274          
    275            if(events & Definition_Event_1)
   \                     ??SampleApp_ProcessEvent_10:
   \   00008A   5402         ANL     A,#0x2
   \   00008C   6022         JZ      ??SampleApp_ProcessEvent_12
    276            {
    277               HalLedBlink(HAL_LED_1,2,50,1000);
   \   00008E                ; Setup parameters for call to function HalLedBlink
   \   00008E   7CE8         MOV     R4,#-0x18
   \   000090   7D03         MOV     R5,#0x3
   \   000092   7B32         MOV     R3,#0x32
   \   000094   7A02         MOV     R2,#0x2
   \   000096   7901         MOV     R1,#0x1
   \   000098   12....       LCALL   ??HalLedBlink?relay
    278               osal_start_timerEx(SampleApp_TaskID,Definition_Event_2,2000);
   \   00009B                ; Setup parameters for call to function osal_start_timerEx
   \   00009B   7CD0         MOV     R4,#-0x30
   \   00009D   7D07         MOV     R5,#0x7
   \   00009F   7A04         MOV     R2,#0x4
   \   0000A1   7B00         MOV     R3,#0x0
   \   0000A3   90....       MOV     DPTR,#SampleApp_TaskID
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   F9           MOV     R1,A
   \   0000A8   12....       LCALL   ??osal_start_timerEx?relay
    279               return (events ^ Definition_Event_1);
   \   0000AB   EE           MOV     A,R6
   \   0000AC   6402         XRL     A,#0x2
   \   0000AE   80D6         SJMP    ??SampleApp_ProcessEvent_11
    280            }
    281          
    282              if(events & Definition_Event_2)
   \                     ??SampleApp_ProcessEvent_12:
   \   0000B0   EE           MOV     A,R6
   \   0000B1   5404         ANL     A,#0x4
   \   0000B3   6012         JZ      ??SampleApp_ProcessEvent_13
    283            {
    284                HalLedBlink(HAL_LED_2,3,50,1000);
   \   0000B5                ; Setup parameters for call to function HalLedBlink
   \   0000B5   7CE8         MOV     R4,#-0x18
   \   0000B7   7D03         MOV     R5,#0x3
   \   0000B9   7B32         MOV     R3,#0x32
   \   0000BB   7A03         MOV     R2,#0x3
   \   0000BD   7902         MOV     R1,#0x2
   \   0000BF   12....       LCALL   ??HalLedBlink?relay
    285                return (events ^ Definition_Event_2);
   \   0000C2   EE           MOV     A,R6
   \   0000C3   6404         XRL     A,#0x4
   \   0000C5   80BF         SJMP    ??SampleApp_ProcessEvent_11
    286            }
    287            // Discard unknown events
    288            return 0;
   \                     ??SampleApp_ProcessEvent_13:
   \   0000C7   7A00         MOV     R2,#0x0
   \   0000C9   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_9:
   \   0000CB   02....       LJMP    ??Subroutine15_0 & 0xFFFF
    289          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine15_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   7A01         MOV     R2,#0x1
   \   000002   7901         MOV     R1,#0x1
   \   000004   12....       LCALL   ??HalLedSet?relay
   \   000007                ; Setup parameters for call to function HalLedSet
   \   000007                ; Setup parameters for call to function HalLedSet
   \   000007   7A01         MOV     R2,#0x1
   \   000009   7902         MOV     R1,#0x2
   \   00000B   12....       LCALL   ??HalLedSet?relay
   \   00000E   22           RET
    290          
    291          /*********************************************************************
    292           * Event Generation Functions
    293           */
    294          /*********************************************************************
    295           * @fn      SampleApp_HandleKeys
    296           *
    297           * @brief   Handles all key events for this device.
    298           *
    299           * @param   shift - true if in shift/alt.
    300           * @param   keys - bit field for key events. Valid entries:
    301           *                 HAL_KEY_SW_2
    302           *                 HAL_KEY_SW_1
    303           *
    304           * @return  none
    305           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    306          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    307          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
    308          
    309            static unsigned char KEYVALUE=0;
    310            unsigned char seg7table[16] = {
    311              /* 0       1       2       3       4       5       6      7*/
    312              0xc0,   0xf9,   0xa4,   0xb0,   0x99,   0x92,   0x82,   0xf8,
    313              /* 8       9      A        B       C       D       E      F*/
    314              0x80,   0x90,   0x88,   0x83,   0xc6,   0xa1,   0x86,   0x8e };
   \   00000C   90....       MOV     DPTR,#`?<Constant {192, 249, 164, 176, 153, 146, 130,`
   \   00000F   C082         PUSH    DPL
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   AC82         MOV     R4,DPL
   \   000019   AD83         MOV     R5,DPH
   \   00001B   7583..       MOV     DPH,#(`?<Constant {192, 249, 164, 176, 153, 146, 130,` >> 8) & 0xff
   \   00001E   D082         POP     DPL
   \   000020   7410         MOV     A,#0x10
   \   000022   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    315              //P0DIR
    316            P0DIR |= 0x10;
   \   000025   12....       LCALL   ?Subroutine8 & 0xFFFF
    317            P1DIR = 0xff;
    318            P0 |= (0x1<<4);
    319          
    320          
    321            KEYVALUE++;
   \                     ??CrossCallReturnLabel_13:
   \   000028   90....       MOV     DPTR,#??KEYVALUE
   \   00002B   E0           MOVX    A,@DPTR
   \   00002C   04           INC     A
   \   00002D   F0           MOVX    @DPTR,A
    322            if(KEYVALUE==10) KEYVALUE=1;
   \   00002E   640A         XRL     A,#0xa
   \   000030   7003         JNZ     ??SampleApp_HandleKeys_0
   \   000032   7401         MOV     A,#0x1
   \   000034   F0           MOVX    @DPTR,A
    323          
    324          
    325            (void)shift;  // Intentionally unreferenced parameter
    326          
    327            if ( keys & HAL_KEY_SW_1 )
   \                     ??SampleApp_HandleKeys_0:
   \   000035   EE           MOV     A,R6
   \   000036   A2E0         MOV     C,0xE0 /* A   */.0
   \   000038   5007         JNC     ??SampleApp_HandleKeys_1
    328            {
    329              /* This key sends the Flash Command is sent to Group 1.
    330               * This device will not receive the Flash Command from this
    331               * device (even if it belongs to group 1).
    332               */
    333              SampleApp_SendFlashMessage( SAMPLEAPP_FLASH_DURATION );
   \   00003A                ; Setup parameters for call to function SampleApp_SendFlashMessage
   \   00003A   7AE8         MOV     R2,#-0x18
   \   00003C   7B03         MOV     R3,#0x3
   \   00003E   12....       LCALL   ??SampleApp_SendFlashMessage?relay
    334            }
    335          
    336            if ( keys & HAL_KEY_SW_2 )
   \                     ??SampleApp_HandleKeys_1:
   \   000041   EE           MOV     A,R6
   \   000042   A2E1         MOV     C,0xE0 /* A   */.1
   \   000044   5024         JNC     ??SampleApp_HandleKeys_2
    337            {
    338              /* The Flashr Command is sent to Group 1.
    339               * This key toggles this device in and out of group 1.
    340               * If this device doesn't belong to group 1, this application
    341               * will not receive the Flash command sent to group 1.
    342               */
    343              aps_Group_t *grp;
    344              grp = aps_FindGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    345              if ( grp )
   \   000046                ; Setup parameters for call to function aps_FindGroup
   \   000046   7A01         MOV     R2,#0x1
   \   000048   7B00         MOV     R3,#0x0
   \   00004A   7914         MOV     R1,#0x14
   \   00004C   12....       LCALL   ??aps_FindGroup?relay
   \   00004F   8B..         MOV     ?V0 + 1,R3
   \   000051   EA           MOV     A,R2
   \   000052   45..         ORL     A,?V0 + 1
   \   000054   600B         JZ      ??SampleApp_HandleKeys_3
    346              {
    347                // Remove from the group
    348                aps_RemoveGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
   \   000056                ; Setup parameters for call to function aps_RemoveGroup
   \   000056   7A01         MOV     R2,#0x1
   \   000058   7B00         MOV     R3,#0x0
   \   00005A   7914         MOV     R1,#0x14
   \   00005C   12....       LCALL   ??aps_RemoveGroup?relay
   \   00005F   8009         SJMP    ??SampleApp_HandleKeys_2
    349              }
    350              else
    351              {
    352                // Add to the flash group
    353                aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
   \                     ??SampleApp_HandleKeys_3:
   \   000061                ; Setup parameters for call to function aps_AddGroup
   \   000061   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   000063   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   000065   7914         MOV     R1,#0x14
   \   000067   12....       LCALL   ??aps_AddGroup?relay
    354              }
    355            }
    356          
    357            if(keys & HAL_KEY_SW_6)
   \                     ??SampleApp_HandleKeys_2:
   \   00006A   EE           MOV     A,R6
   \   00006B   A2E5         MOV     C,0xE0 /* A   */.5
   \   00006D   502E         JNC     ??SampleApp_HandleKeys_4
    358            {
    359               P1 = seg7table[KEYVALUE];
   \   00006F   90....       MOV     DPTR,#??KEYVALUE
   \   000072   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000075   F582         MOV     DPL,A
   \   000077   E583         MOV     A,DPH
   \   000079   3400         ADDC    A,#0x0
   \   00007B   F583         MOV     DPH,A
   \   00007D   E0           MOVX    A,@DPTR
   \   00007E   F590         MOV     0x90,A
    360               if(KEYVALUE%2)
   \   000080   90....       MOV     DPTR,#??KEYVALUE
   \   000083   E0           MOVX    A,@DPTR
   \   000084   A2E0         MOV     C,0xE0 /* A   */.0
   \   000086   7A00         MOV     R2,#0x0
   \   000088   5009         JNC     ??SampleApp_HandleKeys_5
    361               {
    362                 HalLedSet (HAL_LED_1, HAL_LED_MODE_OFF);
   \   00008A                ; Setup parameters for call to function HalLedSet
   \   00008A   7901         MOV     R1,#0x1
   \   00008C   12....       LCALL   ?Subroutine5 & 0xFFFF
    363                 HalLedBlink(HAL_LED_2,2,50,1000);
    364               }
   \                     ??CrossCallReturnLabel_7:
   \   00008F   7902         MOV     R1,#0x2
   \   000091   8007         SJMP    ??SampleApp_HandleKeys_6
    365               else
    366               {
    367                 HalLedSet (HAL_LED_2, HAL_LED_MODE_OFF);
   \                     ??SampleApp_HandleKeys_5:
   \   000093                ; Setup parameters for call to function HalLedSet
   \   000093   7902         MOV     R1,#0x2
   \   000095   12....       LCALL   ?Subroutine5 & 0xFFFF
    368                 HalLedBlink(HAL_LED_1,2,50,1000);
    369               }
    370            }
   \                     ??CrossCallReturnLabel_8:
   \   000098   7901         MOV     R1,#0x1
   \                     ??SampleApp_HandleKeys_6:
   \   00009A   12....       LCALL   ??HalLedBlink?relay
    371            P0DIR &= ~(0x10);
   \                     ??SampleApp_HandleKeys_4:
   \   00009D   53FDEF       ANL     0xfd,#0xef
    372            P0 &= ~(0x1<<4);
   \   0000A0   C284         CLR     0x80.4
    373          }
   \   0000A2   7410         MOV     A,#0x10
   \   0000A4                REQUIRE ?Subroutine1
   \   0000A4                REQUIRE P0DIR
   \   0000A4                REQUIRE P1DIR
   \   0000A4                REQUIRE _A_P0
   \   0000A4                REQUIRE _A_P1
   \   0000A4                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F02         MOV     R7,#0x2
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   000003   7A02         MOV     R2,#0x2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   43FD10       ORL     0xfd,#0x10
   \   000003   75FEFF       MOV     0xfe,#-0x1
   \   000006   D284         SETB    0x80.4
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   12....       LCALL   ??HalLedSet?relay
   \   000003                ; Setup parameters for call to function HalLedBlink
   \   000003                ; Setup parameters for call to function HalLedBlink
   \   000003                ; Setup parameters for call to function HalLedBlink
   \   000003                ; Setup parameters for call to function HalLedBlink
   \   000003   7CE8         MOV     R4,#-0x18
   \   000005   7D03         MOV     R5,#0x3
   \   000007   7B32         MOV     R3,#0x32
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   000003   28           ADD     A,R0
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   85..82       MOV     DPL,?XSP + 0
   \   000005   85..83       MOV     DPH,?XSP + 1
   \   000008   E582         MOV     A,DPL
   \   00000A   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??KEYVALUE:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    374          
    375          /*********************************************************************
    376           * LOCAL FUNCTIONS
    377           */
    378          
    379          /*********************************************************************
    380           * @fn      SampleApp_MessageMSGCB
    381           *
    382           * @brief   Data message processor callback.  This function processes
    383           *          any incoming data - probably from other devices.  So, based
    384           *          on cluster ID, perform the intended action.
    385           *
    386           * @param   none
    387           *
    388           * @return  none
    389           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    390          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     SampleApp_MessageMSGCB:
    391          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
    392            uint16 flashTime;
    393            uint16 addr_short,buf[5];
    394            uint8 addr_sh[6];
    395          
    396            switch ( pkt->clusterId )
   \   00000E   8A82         MOV     DPL,R2
   \   000010   8B83         MOV     DPH,R3
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F5..         MOV     ?V0 + 2,A
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F5..         MOV     ?V0 + 3,A
   \   00001D   78..         MOV     R0,#?V0 + 2
   \   00001F   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_MessageMSGCB>_0`:
   \   000022   0100         DW        1
   \   000024   01           DB        1
   \   000025   ....         DW        ??SampleApp_MessageMSGCB_0
   \   000027   ....         DW        ??SampleApp_MessageMSGCB_1
   \   000029   ....         DW        ??SampleApp_MessageMSGCB_2
    397            {
    398              case SAMPLEAPP_PERIODIC_CLUSTERID:
    399                addr_short = pkt->srcAddr.addr.shortAddr;
   \                     ??SampleApp_MessageMSGCB_1:
   \   00002B   8A82         MOV     DPL,R2
   \   00002D   8B83         MOV     DPH,R3
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   A3           INC     DPTR
   \   000033   A3           INC     DPTR
   \   000034   A3           INC     DPTR
   \   000035   E0           MOVX    A,@DPTR
   \   000036   FE           MOV     R6,A
   \   000037   A3           INC     DPTR
   \   000038   E0           MOVX    A,@DPTR
   \   000039   FF           MOV     R7,A
    400                addr_sh[0]='0';
   \   00003A   85..82       MOV     DPL,?XSP + 0
   \   00003D   85..83       MOV     DPH,?XSP + 1
   \   000040   7430         MOV     A,#0x30
   \   000042   F0           MOVX    @DPTR,A
    401                addr_sh[1]='x';
   \   000043   7401         MOV     A,#0x1
   \   000045   12....       LCALL   ?XSTACK_DISP0_8
   \   000048   7478         MOV     A,#0x78
   \   00004A   F0           MOVX    @DPTR,A
    402                buf[0]= (addr_short>>12)&0x0f;
   \   00004B   8E..         MOV     ?V0 + 2,R6
   \   00004D   8F..         MOV     ?V0 + 3,R7
   \   00004F   740C         MOV     A,#0xc
   \   000051   78..         MOV     R0,#?V0 + 2
   \   000053   12....       LCALL   ?US_SHR
   \   000056   7406         MOV     A,#0x6
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   E5..         MOV     A,?V0 + 2
   \   00005D   12....       LCALL   ??Subroutine16_0 & 0xFFFF
    403                if(buf[0] > 0x9)
   \                     ??CrossCallReturnLabel_27:
   \   000060   7406         MOV     A,#0x6
   \   000062   12....       LCALL   ?XSTACK_DISP0_8
   \   000065   C3           CLR     C
   \   000066   E0           MOVX    A,@DPTR
   \   000067   940A         SUBB    A,#0xa
   \   000069   95E0         SUBB    A,0xE0 /* A   */
   \   00006B   E0           MOVX    A,@DPTR
   \   00006C   4004         JC      ??SampleApp_MessageMSGCB_3
    404                   addr_sh[2]=buf[0] - 0xA + 'A';
   \   00006E   2437         ADD     A,#0x37
   \   000070   8002         SJMP    ??SampleApp_MessageMSGCB_4
    405                else
    406                   addr_sh[2]=buf[0] + '0';
   \                     ??SampleApp_MessageMSGCB_3:
   \   000072   2430         ADD     A,#0x30
   \                     ??SampleApp_MessageMSGCB_4:
   \   000074   C0E0         PUSH    A
   \   000076   7402         MOV     A,#0x2
   \   000078   12....       LCALL   ?XSTACK_DISP0_8
   \   00007B   D0E0         POP     A
   \   00007D   F0           MOVX    @DPTR,A
    407          
    408                buf[1]= (addr_short>>8)&0x0f;
   \   00007E   EF           MOV     A,R7
   \   00007F   F9           MOV     R1,A
   \   000080   E4           CLR     A
   \   000081   C9           XCH     A,R1
   \   000082   540F         ANL     A,#0xf
   \   000084   F8           MOV     R0,A
   \   000085   7408         MOV     A,#0x8
   \   000087   12....       LCALL   ?XSTACK_DISP0_8
   \   00008A   12....       LCALL   ?Subroutine2 & 0xFFFF
    409                if(buf[1] > 0x9)
   \                     ??CrossCallReturnLabel_0:
   \   00008D   7408         MOV     A,#0x8
   \   00008F   4008         JC      ??SampleApp_MessageMSGCB_5
    410                   addr_sh[3]=buf[1] - 0xA + 'A';
   \   000091   12....       LCALL   ?XSTACK_DISP0_8
   \   000094   E0           MOVX    A,@DPTR
   \   000095   2437         ADD     A,#0x37
   \   000097   8006         SJMP    ??SampleApp_MessageMSGCB_6
    411                else
    412                   addr_sh[3]=buf[1] + '0';
   \                     ??SampleApp_MessageMSGCB_5:
   \   000099   12....       LCALL   ?XSTACK_DISP0_8
   \   00009C   E0           MOVX    A,@DPTR
   \   00009D   2430         ADD     A,#0x30
   \                     ??SampleApp_MessageMSGCB_6:
   \   00009F   C0E0         PUSH    A
   \   0000A1   7403         MOV     A,#0x3
   \   0000A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A6   D0E0         POP     A
   \   0000A8   F0           MOVX    @DPTR,A
    413          
    414          
    415                buf[2]= (addr_short>>4)&0x0f;
   \   0000A9   EE           MOV     A,R6
   \   0000AA   C4           SWAP    A
   \   0000AB   540F         ANL     A,#0xf
   \   0000AD   F8           MOV     R0,A
   \   0000AE   740A         MOV     A,#0xa
   \   0000B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B3   12....       LCALL   ?Subroutine2 & 0xFFFF
    416                if(buf[2] > 0x9)
   \                     ??CrossCallReturnLabel_1:
   \   0000B6   740A         MOV     A,#0xa
   \   0000B8   4008         JC      ??SampleApp_MessageMSGCB_7
    417                   addr_sh[4]=buf[2] - 0xA + 'A';
   \   0000BA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BD   E0           MOVX    A,@DPTR
   \   0000BE   2437         ADD     A,#0x37
   \   0000C0   8006         SJMP    ??SampleApp_MessageMSGCB_8
    418                else
    419                   addr_sh[4]=buf[2] + '0';
   \                     ??SampleApp_MessageMSGCB_7:
   \   0000C2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C5   E0           MOVX    A,@DPTR
   \   0000C6   2430         ADD     A,#0x30
   \                     ??SampleApp_MessageMSGCB_8:
   \   0000C8   C0E0         PUSH    A
   \   0000CA   7404         MOV     A,#0x4
   \   0000CC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000CF   D0E0         POP     A
   \   0000D1   F0           MOVX    @DPTR,A
    420          
    421          
    422                buf[3]= (addr_short&0x0f);
   \   0000D2   EE           MOV     A,R6
   \   0000D3   540F         ANL     A,#0xf
   \   0000D5   F8           MOV     R0,A
   \   0000D6   740C         MOV     A,#0xc
   \   0000D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DB   12....       LCALL   ?Subroutine2 & 0xFFFF
    423                if(buf[3] > 0x9)
   \                     ??CrossCallReturnLabel_2:
   \   0000DE   740C         MOV     A,#0xc
   \   0000E0   4008         JC      ??SampleApp_MessageMSGCB_9
    424                   addr_sh[5]=buf[3] - 0xA + 'A';
   \   0000E2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E5   E0           MOVX    A,@DPTR
   \   0000E6   2437         ADD     A,#0x37
   \   0000E8   8006         SJMP    ??SampleApp_MessageMSGCB_10
    425                else
    426                   addr_sh[5]=buf[3] + '0';
   \                     ??SampleApp_MessageMSGCB_9:
   \   0000EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000ED   E0           MOVX    A,@DPTR
   \   0000EE   2430         ADD     A,#0x30
   \                     ??SampleApp_MessageMSGCB_10:
   \   0000F0   C0E0         PUSH    A
   \   0000F2   7405         MOV     A,#0x5
   \   0000F4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F7   D0E0         POP     A
   \   0000F9   F0           MOVX    @DPTR,A
    427          
    428                HalUARTWrite(0,addr_sh,6);
   \   0000FA                ; Setup parameters for call to function HalUARTWrite
   \   0000FA   7C06         MOV     R4,#0x6
   \   0000FC   7D00         MOV     R5,#0x0
   \   0000FE   85..82       MOV     DPL,?XSP + 0
   \   000101   85..83       MOV     DPH,?XSP + 1
   \   000104   AA82         MOV     R2,DPL
   \   000106   AB83         MOV     R3,DPH
   \   000108   12....       LCALL   ??HalUARTWrite?relay
    429                HalUARTWrite(0,"\r\n",2);
   \   00010B                ; Setup parameters for call to function HalUARTWrite
   \   00010B   7C02         MOV     R4,#0x2
   \   00010D   7D00         MOV     R5,#0x0
   \   00010F   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000111   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000113   7900         MOV     R1,#0x0
   \   000115   12....       LCALL   ??HalUARTWrite?relay
    430          
    431                if((pkt->cmd.Data[0])=='1') //light
   \   000118   E5..         MOV     A,?V0 + 0
   \   00011A   2422         ADD     A,#0x22
   \   00011C   F582         MOV     DPL,A
   \   00011E   E5..         MOV     A,?V0 + 1
   \   000120   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   000123   F583         MOV     DPH,A
   \   000125   8882         MOV     DPL,R0
   \   000127   E0           MOVX    A,@DPTR
   \   000128   6431         XRL     A,#0x31
   \   00012A   7014         JNZ     ??SampleApp_MessageMSGCB_11
    432                {
    433                  HalLedSet (HAL_LED_1, HAL_LED_MODE_ON);
   \   00012C                ; Setup parameters for call to function HalLedSet
   \   00012C   12....       LCALL   ?Subroutine4 & 0xFFFF
    434                  HalLedSet (HAL_LED_2, HAL_LED_MODE_ON);
    435                  SampleAppPeriodicCounter="light";
   \                     ??CrossCallReturnLabel_6:
   \   00012F   90....       MOV     DPTR,#SampleAppPeriodicCounter
   \   000132   74..         MOV     A,#`?<Constant "light">` & 0xff
   \   000134   F0           MOVX    @DPTR,A
   \   000135   A3           INC     DPTR
   \   000136   74..         MOV     A,#(`?<Constant "light">` >> 8) & 0xff
   \   000138   F0           MOVX    @DPTR,A
    436                  SampleAppCounter=5;
   \   000139   90....       MOV     DPTR,#SampleAppCounter
   \   00013C   7405         MOV     A,#0x5
   \   00013E   801D         SJMP    ??SampleApp_MessageMSGCB_12
    437                }
    438                else
    439                {
    440                  HalLedSet (HAL_LED_1, HAL_LED_MODE_OFF);
   \                     ??SampleApp_MessageMSGCB_11:
   \   000140                ; Setup parameters for call to function HalLedSet
   \   000140   7A00         MOV     R2,#0x0
   \   000142   7901         MOV     R1,#0x1
   \   000144   12....       LCALL   ??HalLedSet?relay
    441                  HalLedSet (HAL_LED_2, HAL_LED_MODE_OFF);
   \   000147                ; Setup parameters for call to function HalLedSet
   \   000147   7A00         MOV     R2,#0x0
   \   000149   7902         MOV     R1,#0x2
   \   00014B   12....       LCALL   ??HalLedSet?relay
    442                  SampleAppPeriodicCounter="dark";
   \   00014E   90....       MOV     DPTR,#SampleAppPeriodicCounter
   \   000151   74..         MOV     A,#`?<Constant "dark">` & 0xff
   \   000153   F0           MOVX    @DPTR,A
   \   000154   A3           INC     DPTR
   \   000155   74..         MOV     A,#(`?<Constant "dark">` >> 8) & 0xff
   \   000157   F0           MOVX    @DPTR,A
    443                  SampleAppCounter=4;
   \   000158   90....       MOV     DPTR,#SampleAppCounter
   \   00015B   7404         MOV     A,#0x4
   \                     ??SampleApp_MessageMSGCB_12:
   \   00015D   F0           MOVX    @DPTR,A
    444                }
    445                SampleApp_Periodic_DstAddr.addr.shortAddr=addr_short;
   \   00015E   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr
   \   000161   EE           MOV     A,R6
   \   000162   F0           MOVX    @DPTR,A
   \   000163   A3           INC     DPTR
   \   000164   EF           MOV     A,R7
   \   000165   F0           MOVX    @DPTR,A
    446                SampleApp_SendPeriodicMessage();
   \   000166                ; Setup parameters for call to function SampleApp_SendPeriodicMessage
   \   000166   12....       LCALL   ??SampleApp_SendPeriodicMessage?relay
    447                break;
   \   000169   8036         SJMP    ??SampleApp_MessageMSGCB_0
   \                     ??SampleApp_MessageMSGCB_2:
   \   00016B   EA           MOV     A,R2
   \   00016C   2422         ADD     A,#0x22
   \   00016E   F582         MOV     DPL,A
   \   000170   EB           MOV     A,R3
   \   000171   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000174   F9           MOV     R1,A
   \   000175                ; Setup parameters for call to function HalLedBlink
   \   000175   8882         MOV     DPL,R0
   \   000177   8983         MOV     DPH,R1
   \   000179   A3           INC     DPTR
   \   00017A   E0           MOVX    A,@DPTR
   \   00017B   FA           MOV     R2,A
   \   00017C   8882         MOV     DPL,R0
   \   00017E   8983         MOV     DPH,R1
   \   000180   A3           INC     DPTR
   \   000181   A3           INC     DPTR
   \   000182   E0           MOVX    A,@DPTR
   \   000183   F9           MOV     R1,A
   \   000184   EA           MOV     A,R2
   \   000185   2400         ADD     A,#0x0
   \   000187   F5..         MOV     ?V0 + 0,A
   \   000189   E4           CLR     A
   \   00018A   39           ADDC    A,R1
   \   00018B   F5..         MOV     ?V0 + 1,A
   \   00018D   7402         MOV     A,#0x2
   \   00018F   78..         MOV     R0,#?V0 + 0
   \   000191   12....       LCALL   ?US_SHR
   \   000194   AC..         MOV     R4,?V0 + 0
   \   000196   AD..         MOV     R5,?V0 + 1
   \   000198   7B32         MOV     R3,#0x32
   \   00019A   7A04         MOV     R2,#0x4
   \   00019C   7908         MOV     R1,#0x8
    448          
    449              case SAMPLEAPP_FLASH_CLUSTERID:
    450                flashTime = BUILD_UINT16(pkt->cmd.Data[1], pkt->cmd.Data[2] );
    451                HalLedBlink( HAL_LED_4, 4, 50, (flashTime / 4) );
   \   00019E   12....       LCALL   ??HalLedBlink?relay
    452                break;
    453            }
    454          }
   \                     ??SampleApp_MessageMSGCB_0:
   \   0001A1                REQUIRE ?Subroutine0
   \   0001A1                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7410         MOV     A,#0x10
   \   000002   12....       LCALL   ?DEALLOC_XSTACK8
   \   000005                REQUIRE ??Subroutine15_0
   \   000005                ; // Fall through to label ??Subroutine15_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F8           MOV     R0,A
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   E8           MOV     A,R0
   \   000001   12....       LCALL   ??Subroutine16_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000004   C3           CLR     C
   \   000005   E8           MOV     A,R0
   \   000006   940A         SUBB    A,#0xa
   \   000008   95E0         SUBB    A,0xE0 /* A   */
   \   00000A   22           RET
    455          
    456          /*********************************************************************
    457           * @fn      SampleApp_SendPeriodicMessage
    458           *
    459           * @brief   Send the periodic message.
    460           *
    461           * @param   none
    462           *
    463           * @return  none
    464           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    465          void SampleApp_SendPeriodicMessage( void )
   \                     SampleApp_SendPeriodicMessage:
    466          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    467            if ( AF_DataRequest( &SampleApp_Periodic_DstAddr, &SampleApp_epDesc,
    468                                 SAMPLEAPP_PERIODIC_CLUSTERID,
    469                                 SampleAppCounter,                                //1
    470                                 (uint8*)SampleAppPeriodicCounter,                //(uint8*)&SampleAppPeriodicCounter
    471                                 &SampleApp_TransID,
    472                                 AF_DISCV_ROUTE,
    473                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000005                ; Setup parameters for call to function AF_DataRequest
   \   000005   75..1E       MOV     ?V0 + 0,#0x1e
   \   000008   78..         MOV     R0,#?V0 + 0
   \   00000A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00000D   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000010   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000018   90....       MOV     DPTR,#SampleAppPeriodicCounter
   \   00001B   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00001E   90....       MOV     DPTR,#SampleAppCounter
   \   000021   E0           MOVX    A,@DPTR
   \   000022   F5..         MOV     ?V0 + 0,A
   \   000024   75..00       MOV     ?V0 + 1,#0x0
   \   000027   78..         MOV     R0,#?V0 + 0
   \   000029   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002C   75..01       MOV     ?V0 + 0,#0x1
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000034   7920         MOV     R1,#0x20
   \   000036   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000038   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00003A   7A..         MOV     R2,#SampleApp_Periodic_DstAddr & 0xff
   \   00003C   7B..         MOV     R3,#(SampleApp_Periodic_DstAddr >> 8) & 0xff
   \   00003E   12....       LCALL   ??AF_DataRequest?relay
   \   000041   7409         MOV     A,#0x9
   \   000043   02....       LJMP    ?Subroutine1 & 0xFFFF
    474            {
    475            }
    476            else
    477            {
    478              // Error occurred in request to send.
    479            }
    480          }
    481          
    482          /*********************************************************************
    483           * @fn      SampleApp_SendFlashMessage
    484           *
    485           * @brief   Send the flash message to group 1.
    486           *
    487           * @param   flashTime - in milliseconds
    488           *
    489           * @return  none
    490           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    491          void SampleApp_SendFlashMessage( uint16 flashTime )
   \                     SampleApp_SendFlashMessage:
    492          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    493            uint8 buffer[3];
    494            buffer[0] = (uint8)(SampleAppFlashCounter++);
   \   00000A   90....       MOV     DPTR,#SampleAppFlashCounter
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   F0           MOVX    @DPTR,A
   \   000015   90....       MOV     DPTR,#SampleAppFlashCounter
   \   000018   E0           MOVX    A,@DPTR
   \   000019   04           INC     A
   \   00001A   F0           MOVX    @DPTR,A
    495            buffer[1] = LO_UINT16( flashTime );
   \   00001B   7401         MOV     A,#0x1
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   EA           MOV     A,R2
   \   000021   F0           MOVX    @DPTR,A
    496            buffer[2] = HI_UINT16( flashTime );
   \   000022   7402         MOV     A,#0x2
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   EB           MOV     A,R3
   \   000028   F0           MOVX    @DPTR,A
    497          
    498            if ( AF_DataRequest( &SampleApp_Flash_DstAddr, &SampleApp_epDesc,
    499                                 SAMPLEAPP_FLASH_CLUSTERID,
    500                                 3,
    501                                 buffer,
    502                                 &SampleApp_TransID,
    503                                 AF_DISCV_ROUTE,
    504                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000029                ; Setup parameters for call to function AF_DataRequest
   \   000029   75..1E       MOV     ?V0 + 0,#0x1e
   \   00002C   78..         MOV     R0,#?V0 + 0
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000031   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000034   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000037   78..         MOV     R0,#?V0 + 0
   \   000039   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003C   7403         MOV     A,#0x3
   \   00003E   12....       LCALL   ?XSTACK_DISP0_8
   \   000041   8582..       MOV     ?V0 + 0,DPL
   \   000044   8583..       MOV     ?V0 + 1,DPH
   \   000047   78..         MOV     R0,#?V0 + 0
   \   000049   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004C   75..03       MOV     ?V0 + 0,#0x3
   \   00004F   75..00       MOV     ?V0 + 1,#0x0
   \   000052   78..         MOV     R0,#?V0 + 0
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   75..02       MOV     ?V0 + 0,#0x2
   \   00005A   78..         MOV     R0,#?V0 + 0
   \   00005C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005F   7920         MOV     R1,#0x20
   \   000061   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000063   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000065   7A..         MOV     R2,#SampleApp_Flash_DstAddr & 0xff
   \   000067   7B..         MOV     R3,#(SampleApp_Flash_DstAddr >> 8) & 0xff
   \   000069   12....       LCALL   ??AF_DataRequest?relay
   \   00006C   7409         MOV     A,#0x9
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
    505            {
    506            }
    507            else
    508            {
    509              // Error occurred in request to send.
    510            }
    511          }
   \   000071   7403         MOV     A,#0x3
   \   000073   02....       LJMP    ?Subroutine1 & 0xFFFF
    512          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    513          void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg)
   \                     SampleApp_SerialCMD:
    514          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    515              uint8 i,len,*str=NULL; //len 
    516          /********************************************************************/
    517            unsigned char seg7table[16] = {
    518              /* 0       1       2       3       4       5       6      7*/
    519              0xc0,   0xf9,   0xa4,   0xb0,   0x99,   0x92,   0x82,   0xf8,
    520              /* 8       9      A        B       C       D       E      F*/
    521              0x80,   0x90,   0x88,   0x83,   0xc6,   0xa1,   0x86,   0x8e };
   \   00000A   90....       MOV     DPTR,#`?<Constant {192, 249, 164, 176, 153, 146, 130,_1`
   \   00000D   C082         PUSH    DPL
   \   00000F   85..82       MOV     DPL,?XSP + 0
   \   000012   85..83       MOV     DPH,?XSP + 1
   \   000015   AC82         MOV     R4,DPL
   \   000017   AD83         MOV     R5,DPH
   \   000019   7583..       MOV     DPH,#(`?<Constant {192, 249, 164, 176, 153, 146, 130,_1` >> 8) & 0xff
   \   00001C   D082         POP     DPL
   \   00001E   7410         MOV     A,#0x10
   \   000020   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    522              //P0DIR
    523            P0DIR |= 0x10;
   \   000023   12....       LCALL   ?Subroutine8 & 0xFFFF
    524            P1DIR = 0xff;
    525            P0 |= (0x1<<4);
    526            /********************************************************************/
    527          
    528          
    529              str=cmdMsg->msg; //
   \                     ??CrossCallReturnLabel_14:
   \   000026   8A82         MOV     DPL,R2
   \   000028   8B83         MOV     DPH,R3
   \   00002A   A3           INC     DPTR
   \   00002B   A3           INC     DPTR
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   F5..         MOV     ?V0 + 0,A
   \   00002F   A3           INC     DPTR
   \   000030   E0           MOVX    A,@DPTR
   \   000031   F5..         MOV     ?V0 + 1,A
    530              len=*str; //msg  1 
   \   000033   85..82       MOV     DPL,?V0 + 0
   \   000036   F583         MOV     DPH,A
   \   000038   E0           MOVX    A,@DPTR
   \   000039   FF           MOV     R7,A
    531          /*****************/
    532              /*for(i=1;i<=len;i++)
    533              {
    534                SampleAppPeriodicCounter=*(str+i);
    535                osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_SEND_PERIODIC_MSG_EVT,SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
    536                break;
    537              }  */
    538              for(i=1;i<=len&&i > 100 ;i++)
   \   00003A   7E01         MOV     R6,#0x1
   \   00003C   801E         SJMP    ??SampleApp_SerialCMD_0
    539              {
    540          
    541                 if('0'<=*(str+i)&&*(str+i)<='9')
    542                 {
    543                   P1=seg7table[*(str+i)-'0'];
    544                   HalUARTWrite(0,str+i,1 );
    545                   HalLedSet (HAL_LED_2, HAL_LED_MODE_OFF);
    546                   HalLedBlink(HAL_LED_1,5,50,1000);
    547                 }
    548                 else if('A'<=*(str+i)&&*(str+i)<='F' || 'a'<=*(str+i)&&*(str+i)<='f')
    549                 {
    550                   if('A'<=*(str+i)&&*(str+i)<='F')
    551                    P1=seg7table[*(str+i)-'A'+10];
    552                   else
    553                     P1=seg7table[*(str+i)-'a'+10];
    554                   HalUARTWrite(0,str+i,1 );
    555                   HalLedSet (HAL_LED_1, HAL_LED_MODE_OFF);
    556                   HalLedBlink(HAL_LED_2,5,50,1000);
    557                 }
    558                 else
    559                 {
    560                   HalUARTWrite(0,"error",5);
   \                     ??SampleApp_SerialCMD_1:
   \   00003E                ; Setup parameters for call to function HalUARTWrite
   \   00003E   7C05         MOV     R4,#0x5
   \   000040   7D00         MOV     R5,#0x0
   \   000042   7A..         MOV     R2,#`?<Constant "error">` & 0xff
   \   000044   7B..         MOV     R3,#(`?<Constant "error">` >> 8) & 0xff
   \   000046   7900         MOV     R1,#0x0
   \   000048   12....       LCALL   ??HalUARTWrite?relay
    561                   P1=0xFF;
   \   00004B   7590FF       MOV     0x90,#-0x1
    562                 }
    563                 HalUARTWrite(0,"\n",1 );//
   \                     ??SampleApp_SerialCMD_2:
   \   00004E                ; Setup parameters for call to function HalUARTWrite
   \   00004E   7C01         MOV     R4,#0x1
   \   000050   7D00         MOV     R5,#0x0
   \   000052   7A..         MOV     R2,#`?<Constant "\\n">` & 0xff
   \   000054   7B..         MOV     R3,#(`?<Constant "\\n">` >> 8) & 0xff
   \   000056   7900         MOV     R1,#0x0
   \   000058   12....       LCALL   ??HalUARTWrite?relay
   \   00005B   0E           INC     R6
   \                     ??SampleApp_SerialCMD_0:
   \   00005C   EF           MOV     A,R7
   \   00005D   C3           CLR     C
   \   00005E   9E           SUBB    A,R6
   \   00005F   407E         JC      ??SampleApp_SerialCMD_3
   \   000061   EE           MOV     A,R6
   \   000062   C3           CLR     C
   \   000063   9465         SUBB    A,#0x65
   \   000065   4078         JC      ??SampleApp_SerialCMD_3
   \   000067   8E..         MOV     ?V0 + 2,R6
   \   000069   E5..         MOV     A,?V0 + 0
   \   00006B   25..         ADD     A,?V0 + 2
   \   00006D   F582         MOV     DPL,A
   \   00006F   E5..         MOV     A,?V0 + 1
   \   000071   3400         ADDC    A,#0x0
   \   000073   F583         MOV     DPH,A
   \   000075   E0           MOVX    A,@DPTR
   \   000076   24D0         ADD     A,#-0x30
   \   000078   C3           CLR     C
   \   000079   940A         SUBB    A,#0xa
   \   00007B   5025         JNC     ??SampleApp_SerialCMD_4
   \   00007D   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000080   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   000083   F8           MOV     R0,A
   \   000084   E583         MOV     A,DPH
   \   000086   3400         ADDC    A,#0x0
   \   000088   F9           MOV     R1,A
   \   000089   E8           MOV     A,R0
   \   00008A   24D0         ADD     A,#-0x30
   \   00008C   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   00008F   7900         MOV     R1,#0x0
   \   000091   12....       LCALL   ??HalUARTWrite?relay
   \   000094                ; Setup parameters for call to function HalLedSet
   \   000094   7A00         MOV     R2,#0x0
   \   000096   7902         MOV     R1,#0x2
   \   000098   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   00009B   7901         MOV     R1,#0x1
   \                     ??SampleApp_SerialCMD_5:
   \   00009D   12....       LCALL   ??HalLedBlink?relay
   \   0000A0   80AC         SJMP    ??SampleApp_SerialCMD_2
   \                     ??SampleApp_SerialCMD_4:
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   24BF         ADD     A,#-0x41
   \   0000A5   C3           CLR     C
   \   0000A6   9406         SUBB    A,#0x6
   \   0000A8   4008         JC      ??SampleApp_SerialCMD_6
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   249F         ADD     A,#-0x61
   \   0000AD   C3           CLR     C
   \   0000AE   9406         SUBB    A,#0x6
   \   0000B0   508C         JNC     ??SampleApp_SerialCMD_1
   \                     ??SampleApp_SerialCMD_6:
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   24BF         ADD     A,#-0x41
   \   0000B5   C3           CLR     C
   \   0000B6   9406         SUBB    A,#0x6
   \   0000B8   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0000BB   5007         JNC     ??SampleApp_SerialCMD_7
   \   0000BD   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   0000C0   24C9         ADD     A,#-0x37
   \   0000C2   8005         SJMP    ??SampleApp_SerialCMD_8
   \                     ??SampleApp_SerialCMD_7:
   \   0000C4   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   0000C7   24A9         ADD     A,#-0x57
   \                     ??SampleApp_SerialCMD_8:
   \   0000C9   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   0000CC   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   0000CF   7900         MOV     R1,#0x0
   \   0000D1   12....       LCALL   ??HalUARTWrite?relay
   \   0000D4                ; Setup parameters for call to function HalLedSet
   \   0000D4   7A00         MOV     R2,#0x0
   \   0000D6   7901         MOV     R1,#0x1
   \   0000D8   12....       LCALL   ?Subroutine6 & 0xFFFF
    564              }
   \                     ??CrossCallReturnLabel_10:
   \   0000DB   7902         MOV     R1,#0x2
   \   0000DD   80BE         SJMP    ??SampleApp_SerialCMD_5
    565          
    566          
    567              P0DIR &= ~(0x10);
   \                     ??SampleApp_SerialCMD_3:
   \   0000DF   53FDEF       ANL     0xfd,#0xef
    568              P0 &= ~(0x1<<4);
   \   0000E2   C284         CLR     0x80.4
    569          }
   \   0000E4   02....       LJMP    ?Subroutine0 & 0xFFFF
   \   0000E7                REQUIRE P0DIR
   \   0000E7                REQUIRE P1DIR
   \   0000E7                REQUIRE _A_P0
   \   0000E7                REQUIRE _A_P1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   E5..         MOV     A,?V0 + 0
   \   000002   25..         ADD     A,?V0 + 2
   \   000004   FA           MOV     R2,A
   \   000005   E5..         MOV     A,?V0 + 1
   \   000007   3400         ADDC    A,#0x0
   \   000009   FB           MOV     R3,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   28           ADD     A,R0
   \   000001   F8           MOV     R0,A
   \   000002   E583         MOV     A,DPH
   \   000004   3400         ADDC    A,#0x0
   \   000006   F9           MOV     R1,A
   \   000007   E8           MOV     A,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   F582         MOV     DPL,A
   \   000002   E9           MOV     A,R1
   \   000003   34FF         ADDC    A,#-0x1
   \   000005   F583         MOV     DPH,A
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F590         MOV     0x90,A
   \   00000A                ; Setup parameters for call to function HalUARTWrite
   \   00000A                ; Setup parameters for call to function HalUARTWrite
   \   00000A   7C01         MOV     R4,#0x1
   \   00000C   7D00         MOV     R5,#0x0
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000003   7A05         MOV     R2,#0x5
   \   000005   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for SampleAppCounter>`:
   \   000000   01           DB 1

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendPeriodicMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendPeriodicMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendFlashMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendFlashMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SerialCMD?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SerialCMD

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coordinator\\n">`:
   \   000000   436F6F72     DB "Coordinator\012"
   \            64696E61
   \            746F720A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {192, 249, 164, 176, 153, 146, 130,`:
   \   000000   C0           DB 192
   \   000001   F9           DB 249
   \   000002   A4           DB 164
   \   000003   B0           DB 176
   \   000004   99           DB 153
   \   000005   92           DB 146
   \   000006   82           DB 130
   \   000007   F8           DB 248
   \   000008   80           DB 128
   \   000009   90           DB 144
   \   00000A   88           DB 136
   \   00000B   83           DB 131
   \   00000C   C6           DB 198
   \   00000D   A1           DB 161
   \   00000E   86           DB 134
   \   00000F   8E           DB 142

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\n">`:
   \   000000   0D0A00       DB "\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "light">`:
   \   000000   6C696768     DB "light"
   \            7400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "dark">`:
   \   000000   6461726B     DB "dark"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {192, 249, 164, 176, 153, 146, 130,_1`:
   \   000000   C0           DB 192
   \   000001   F9           DB 249
   \   000002   A4           DB 164
   \   000003   B0           DB 176
   \   000004   99           DB 153
   \   000005   92           DB 146
   \   000006   82           DB 130
   \   000007   F8           DB 248
   \   000008   80           DB 128
   \   000009   90           DB 144
   \   00000A   88           DB 136
   \   00000B   83           DB 131
   \   00000C   C6           DB 198
   \   00000D   A1           DB 161
   \   00000E   86           DB 134
   \   00000F   8E           DB 142

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "error">`:
   \   000000   6572726F     DB "error"
   \            7200    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\n">`:
   \   000000   0A00         DB "\012"
    570          
    571          /*********************************************************************
    572          *********************************************************************/

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     SampleApp_HandleKeys               2      0     38
       -> SampleApp_SendFlashMessage
                                        0      0     52
       -> aps_FindGroup                 0      0     52
       -> aps_RemoveGroup               0      0     52
       -> aps_AddGroup                  0      0     52
       -> HalLedSet                     0      0     52
       -> HalLedBlink                   0      0     52
       -> HalLedSet                     0      0     52
       -> HalLedBlink                   0      0     52
     SampleApp_Init                     0      0     14
       -> MT_UartInit                   0      0     22
       -> MT_UartRegisterTaskID         0      0     22
       -> HalUARTWrite                  0      0     22
       -> afRegister                    0      0     22
       -> RegisterForKeys               0      0     22
       -> osal_memcpy                   0      0     28
       -> aps_AddGroup                  0      0     22
     SampleApp_MessageMSGCB             1      0     40
       -> HalUARTWrite                  0      0     56
       -> HalUARTWrite                  0      0     56
       -> HalLedSet                     0      0     56
       -> HalLedSet                     0      0     56
       -> HalLedSet                     0      0     56
       -> HalLedSet                     0      0     56
       -> SampleApp_SendPeriodicMessage
                                        0      0     56
       -> HalLedBlink                   0      0     56
     SampleApp_ProcessEvent             0      0     12
       -> osal_msg_receive              0      0     24
       -> SampleApp_SerialCMD           0      0     24
       -> osal_msg_deallocate           0      0     24
       -> osal_msg_receive              0      0     24
       -> SampleApp_HandleKeys          0      0     24
       -> SampleApp_MessageMSGCB        0      0     24
       -> HalLedSet                     0      0     24
       -> HalLedSet                     0      0     24
       -> SampleApp_SendPeriodicMessage
                                        0      0     24
       -> HalLedBlink                   0      0     24
       -> osal_start_timerEx            0      0     24
       -> HalLedBlink                   0      0     24
     SampleApp_SendFlashMessage         1      0     48
       -> AF_DataRequest                0      0     44
     SampleApp_SendPeriodicMessage      0      0     47
       -> AF_DataRequest                0      0     38
     SampleApp_SerialCMD                2      0     40
       -> HalUARTWrite                  0      0     56
       -> HalUARTWrite                  0      0     56
       -> HalUARTWrite                  0      0     56
       -> HalLedSet                     0      0     56
       -> HalLedBlink                   0      0     56
       -> HalUARTWrite                  0      0     56
       -> HalLedSet                     0      0     56
       -> HalLedBlink                   0      0     56


   Segment part sizes:

     Function/Label                                   Bytes
     --------------                                   -----
     _A_P0                                               1
     _A_P1                                               1
     P0DIR                                               1
     P1DIR                                               1
     SampleApp_ClusterList                               4
     SampleApp_SimpleDesc                               12
     SampleApp_epDesc                                    6
     SampleApp_TaskID                                    1
     SampleApp_NwkState                                  1
     SampleApp_TransID                                   1
     SampleApp_Periodic_DstAddr                         12
     SampleApp_Flash_DstAddr                            12
     SampleApp_Group                                    18
     SampleAppPeriodicCounter                            2
     SampleAppCounter                                    1
     SampleAppFlashCounter                               1
     SampleApp_Init                                    164
     ?Subroutine13                                       2
     ??Subroutine16_0                                    5
     SampleApp_ProcessEvent                            206
     ??Subroutine15_0                                    5
     ?Subroutine4                                       15
     SampleApp_HandleKeys                              164
     ?Subroutine1                                        8
     ?Subroutine5                                        6
     ?Subroutine8                                        9
     ?Subroutine14                                      10
     ?Subroutine3                                        5
     ?Subroutine12                                      11
     KEYVALUE                                            1
     SampleApp_MessageMSGCB                            417
     ?Subroutine0                                        5
     ?Subroutine10                                       9
     ?Subroutine2                                       11
     SampleApp_SendPeriodicMessage                      70
     SampleApp_SendFlashMessage                        118
     SampleApp_SerialCMD                               231
     ?Subroutine11                                      11
     ?Subroutine9                                        9
     ?Subroutine7                                       15
     ?Subroutine6                                        6
     ?<Initializer for SampleAppCounter>                 1
     ??SampleApp_Init?relay                              6
     ??SampleApp_ProcessEvent?relay                      6
     ??SampleApp_HandleKeys?relay                        6
     ??SampleApp_MessageMSGCB?relay                      6
     ??SampleApp_SendPeriodicMessage?relay               6
     ??SampleApp_SendFlashMessage?relay                  6
     ??SampleApp_SerialCMD?relay                         6
     ?<Constant "Coordinator\n">                        13
     ?<Constant "Group 1">                               8
     ?<Constant {192, 249, 164, 176, 153, 146, 130,     16
     ?<Constant "\r\n">                                  3
     ?<Constant "light">                                 6
     ?<Constant "dark">                                  5
     ?<Constant {192, 249, 164, 176, 153, 146, 130,_1   16
     ?<Constant "error">                                 6
     ?<Constant "\n">                                    2

 
 1 512 bytes in segment BANKED_CODE
    42 bytes in segment BANK_RELAYS
     4 bytes in segment SFR_AN
     1 byte  in segment XDATA_I
     1 byte  in segment XDATA_ID
    91 bytes in segment XDATA_ROM_C
    55 bytes in segment XDATA_Z
 
 1 555 bytes of CODE  memory
    91 bytes of CONST memory
     0 bytes of DATA  memory (+ 4 bytes shared)
    56 bytes of XDATA memory

Errors: none
Warnings: 1
